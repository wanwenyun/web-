<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="jquery-3.4.1/jquery-3.4.1.js"></script>
	<script>
			let p1 = new Promise(function(resolve,reject){
				//异步代码
				//resolve:成功
				//reject:失败
				$.ajax({
					url:'data/arr.txt',
					dataType:'json',
					success(arr){
						resolve(arr);
					},
					error(err){
						reject(err);
					}
				})
			});

			let p2 = new Promise(function(resolve,reject){
				$.ajax({
					url:'data/json.txt',
					dataType:'json',
					success(arr){
						resolve(arr);
					},
					error(err){
						reject(err);
					}
				})
			});
			Promise.all([
				p1,p2
				]).then(function(arr){
					let [res1,res2] = arr;
					alert("全成功了");
					alert(res1);
					alert(res2);
				},function(){
					alert("至少有一个失败了");
				})
	</script>

</head>

<body>

</body>
</html>